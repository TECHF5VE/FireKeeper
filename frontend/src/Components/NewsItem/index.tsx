import * as React from 'react';
import * as style from './style.scss';
import { Icon, Button } from 'antd';
import { IFire, FireDataContext } from 'src/context/fire';

export default function NewsItem({ fire, setToCenter }: { fire: IFire, setToCenter: (position: string) => void }) {
  const fireContext = React.useContext(FireDataContext);
  const handleLikeClick = () => { fireContext && fireContext.functions.likeFire(fire.id) }
  const handleDislikeClick = () => { fireContext && fireContext.functions.dislikeFire(fire.id) }
  return (
    <div className={style.newsItem} onClick={() => {
      setToCenter(fire.position);
      fireContext && fireContext.functions.setSelectedId(fire.id)
    }}>
      <div className={style.fireStatus}>
        <div className={style.fireStatusIcon}><Icon type="fire" /></div>
        {fire.weight}Â°C {fire.sentiment}
      </div>
      <div className={style.fireContent}>{fire.content}</div>
      <div className={style.fireActions}>
        <Button className={style.addFire} shape="circle" size="large" onClick={handleLikeClick}>
          <Icon component={addFireIcon} />
        </Button>
        <Button className={style.cancelFire} shape="circle" size="large" onClick={handleDislikeClick}>
          <Icon component={cancelFireIcon} />
        </Button>
      </div>
    </div>
  )
}

const cancelFireIcon = () => (
  <svg viewBox="0 0 1024 1024" version="1.1" p-id="2726" width="1em" height="1em"><path d="M164.977778 876.088889v108.088889c0 11.377778 5.688889 22.755556 11.377778 28.444444 5.688889 5.688889 17.066667 11.377778 28.444444 11.377778h432.355556c11.377778 0 22.755556-5.688889 28.444444-11.377778s11.377778-17.066667 11.377778-28.444444v-108.088889h-512z m0-347.022222h512v312.888889h-512v-312.888889z m762.311111-460.8c-5.688889-5.688889-5.688889-5.688889-11.377778-5.688889H910.222222l-278.755555 56.888889c0 5.688889-5.688889 5.688889-5.688889 11.377777-5.688889 0-5.688889 17.066667-5.688889 22.755556H432.355556c5.688889-11.377778 11.377778-28.444444 11.377777-39.822222 0-28.444444-11.377778-51.2-28.444444-68.266667-22.755556-22.755556-45.511111-34.133333-73.955556-34.133333s-51.2 11.377778-68.266666 34.133333-28.444444 39.822222-28.444445 68.266667c0 17.066667 5.688889 34.133333 17.066667 51.2-22.755556 5.688889-45.511111 17.066667-68.266667 34.133333s-39.822222 28.444444-51.2 39.822222-28.444444 28.444444-39.822222 45.511111c-11.377778 17.066667-17.066667 28.444444-22.755556 34.133334-5.688889 5.688889-5.688889 11.377778-11.377777 17.066666-5.688889 11.377778-5.688889 22.755556 0 28.444445 5.688889 11.377778 11.377778 17.066667 17.066666 22.755555 5.688889 5.688889 11.377778 5.688889 17.066667 5.688889 17.066667 0 28.444444-5.688889 34.133333-22.755555 0-5.688889 5.688889-5.688889 11.377778-17.066667 5.688889-5.688889 11.377778-17.066667 22.755556-34.133333s28.444444-28.444444 39.822222-39.822222c17.066667-11.377778 34.133333-22.755556 56.888889-34.133334 22.755556-11.377778 45.511111-17.066667 73.955555-17.066666h17.066667v68.266666c-130.844444 5.688889-193.422222 147.911111-193.422222 187.733334v5.688888h512v-5.688888c0-45.511111-91.022222-193.422222-216.177778-193.422223V227.555556h159.288889c0 5.688889 0 22.755556 5.688889 22.755555 5.688889 5.688889 5.688889 5.688889 11.377778 5.688889l278.755555 56.888889h5.688889c5.688889 0 11.377778 0 11.377778-5.688889 5.688889-5.688889 5.688889-11.377778 5.688889-17.066667V79.644444c0-5.688889-5.688889-11.377778-11.377778-11.377777zM369.777778 142.222222c-5.688889 5.688889-17.066667 11.377778-28.444445 11.377778s-22.755556-5.688889-28.444444-11.377778C307.2 130.844444 301.511111 125.155556 301.511111 113.777778s5.688889-22.755556 11.377778-28.444445c11.377778-5.688889 17.066667-11.377778 28.444444-11.377777s22.755556 5.688889 28.444445 11.377777c5.688889 5.688889 11.377778 17.066667 11.377778 28.444445s-5.688889 17.066667-11.377778 28.444444z" fill="#ffffff" p-id="2727" /></svg>
)
const addFireIcon = () => (
  <svg viewBox="0 0 1024 1024" version="1.1" p-id="7062" width="1em" height="1em"><path d="M800.067 678.295c0 0 9.029 226.725-217.637 247.114 0 0-29.36-6.932 58.895-63.555 0 0 52.138-93.031-52.195-206.278 0 0-5.01 45.323-14.913 58.313 0 0-72.818-68.564-60.468-165.967 0 0 15.379-46.719-6.116-32.273 0 0-51.148 54.118-42.001 110.916 0 0 31.225 140.044-11.301 131.597 0 0 2.214-107.13-31.516-96.993 0 0 1.049 63.03-9.087 88.022 0 0-68.39 99.033 10.137 144.47 0 0 12.117 25.573-28.836 11.942-40.778-13.515 0 0 0 0s-240.299-116.275-123.966-352.031c0 0 90.818-166.258 31.632-264.707 0 0-33.263-92.217 75.73 42.35 0 0 80.215 152.684 141.442-61.924 0 0 35.36-64.954-8.331-213.327 0 0 52.954-37.574 120.935 142.373 0 0 33.321 107.303-25.632 217.637 0 0-40.72 78.643 43.748 21.263 0 0 42.583-116.566 77.011-106.022 0 0 18.117 7.573 0 60.642 0 0-19.807 92.099 25.866 151.111-0.058-0.058 40.72 66.41 46.604 135.325zM227.428 834.065c0 0 37.807 62.157-22.603 103.343 0 0-9.146 2.563 6.7-26.913 0 0 0.116-34.37-46.953-49.749 0 0 5.825 13.456 4.835 18.875 0 0-31.166-8.039-42.875-37.341 0 0-2.854-15.613-6.875-7.981 0 0-5.593 23.36 5.767 37.458 0 0 30.817 34.486 17.301 38.914 0 0-16.195-30.641-24.291-22.37 0 0 10.428 17.301 11.36 26.098 0 0-3.612 38.564 25.516 38.914 0 0 7.457 5.301-5.825 7.981-13.632 2.331 0 0 0 0s-85.983 5.01-90.178-79.575c0 0-0.582-60.759-32.331-79.109 0 0-23.826-20.622 27.962 0 0 0 45.963 30.409 29.767-39.555 0 0 0-23.651-35.419-58.37 0 0 8.738-18.932 55.982 20.913 0 0 25.981 25.107 26.739 64.954 0 0 1.049 28.545 15.553-0.641 0 0-6.059-39.264 5.359-42.001 0 0 6.059-0.525 9.379 17.01 0 0 8.738 28.836 30.526 38.506 0.058 0.058 22.428 12.234 34.604 30.641zM801.407 818.803c0 0-38.332 62.215 22.37 103.402 0 0 9.146 2.563-6.641-26.913 0 0-0.525-34.428 46.895-49.866 0 0-5.71 13.573-4.603 18.757 0 0 30.758-7.748 42.467-37.225 0 0 3.262-15.379 6.815-8.213 0 0 5.825 23.477-5.068 37.923 0 0-31.225 34.37-18.001 38.739 0 0 16.195-30.641 24.351-22.311 0 0-10.428 17.534-11.301 25.981 0 0 3.844 38.564-25.632 38.855 0 0-7.282 5.593 6.466 8.156 13.456 2.388 0 0 0 0s85.575 4.718 89.77-79.401c0 0 0.699-60.992 32.447-79.459 0 0 23.826-20.622-27.846 0 0 0-46.719 30.35-30.059-39.497 0 0 0.175-23.593 35.477-58.313 0 0-8.738-18.817-55.866 21.029 0 0-26.098 24.874-26.739 64.954 0 0-0.699 28.311-15.613-1.165 0 0 6.116-38.973-5.185-41.476 0 0-6.35-0.699-9.728 17.127 0 0-8.622 28.836-30.467 38.273 0.058 0.175-21.962 12.525-34.311 30.641z" p-id="7063" fill="#ffffff" /></svg>
)